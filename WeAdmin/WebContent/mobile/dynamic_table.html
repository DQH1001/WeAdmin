<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <link rel="stylesheet" href="css/amazeui.min.css">
  <link rel="stylesheet" href="css/wap.css">
  <link rel="shortcut icon" href="#" type="image/png">
  <!--<link href="media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
   <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>-->

  <title>Dynamic Table</title>
  <link href="https://cdn.bootcss.com/jquery-confirm/3.2.3/jquery-confirm.min.css" rel="stylesheet">
     <!--  <link rel="stylesheet" href="js/jquery-confirm.min.css"> -->
 <link href="../assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
 <link rel="icon" href="https://static.jianshukeji.com/highcharts/images/favicon.ico">
   <!--dynamic table-->
  <link href="../js/advanced-datatable/css/demo_page.css" rel="stylesheet" />
  <link href="../js/advanced-datatable/css/demo_table.css" rel="stylesheet" />
  <link rel="stylesheet" href="../js/data-tables/DT_bootstrap.css" />

  <link href="../css/style.css" rel="stylesheet">
  <link href="../css/style-responsive.css" rel="stylesheet">
  <link href="../css/layer.css" rel="stylesheet">
 <link rel="stylesheet" href="../css/bootstrap-table.css" />
 
 <link rel="stylesheet" type="text/css" href="../js/bootstrap-datepicker/css/datepicker-custom.css" />
 <link rel="stylesheet" type="text/css" href="../js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
  <link rel="stylesheet" type="text/css" href="../js/bootstrap-datetimepicker/css/datetimepicker-custom.css" />
   <!--file upload-->
    <link rel="stylesheet" type="text/css" href="../css/bootstrap-fileupload.min.css" />

</head>
<body style="background:#ececec">
  <div class="pet_mian" >
    <div class="pet_head">
      <header data-am-widget="header"
          class="am-header am-header-default pet_head_block">
        <div class="am-header-left am-header-nav ">
          <a href="index.html" class="iconfont pet_head_jt_ico">&#xe601;</a>
        </div>

        <div class="am-header-right am-header-nav">
          <a href="javascript:;" class="iconfont pet_head_gd_ico">&#xe600;</a>
        </div>
      </header>
    </div>

    <div class="pet_more_list">
      <div class="pet_more_list_block">
        <div class="iconfont pet_more_close">×</div>
        <div class="pet_more_list_block">
          <div class="pet_more_list_block_name">
            <div class="pet_more_list_block_name_title">阅读 Read</div>
            <a class="pet_more_list_block_line"> <i class="iconfont pet_nav_xinxianshi pet_more_list_block_line_ico">&#xe61e;</i>
              <div class="pet_more_list_block_line_font">新鲜事</div>
            </a>
            <a class="pet_more_list_block_line"> <i class="iconfont pet_nav_zhangzhishi pet_more_list_block_line_ico">&#xe607;</i>
              <div class="pet_more_list_block_line_font">趣闻</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_kantuya pet_more_list_block_line_ico">&#xe62c;</i>
              <div class="pet_more_list_block_line_font">阅读</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_mengzhuanti pet_more_list_block_line_ico">&#xe622;</i>
              <div class="pet_more_list_block_line_font">专题</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_bk pet_more_list_block_line_ico">&#xe629;</i>
              <div class="pet_more_list_block_line_font">订阅</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_wd pet_more_list_block_line_ico">&#xe602;</i>
              <div class="pet_more_list_block_line_font">专栏</div>
            </a>
            <div class="pet_more_list_block_name_title pet_more_list_block_line_height">服务 Service</div>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_xinxianshi pet_more_list_block_line_ico">&#xe61e;</i>
              <div class="pet_more_list_block_line_font">新鲜事</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_zhangzhishi pet_more_list_block_line_ico">&#xe607;</i>
              <div class="pet_more_list_block_line_font">趣闻</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_kantuya pet_more_list_block_line_ico">&#xe62c;</i>
              <div class="pet_more_list_block_line_font">阅读</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_mengzhuanti pet_more_list_block_line_ico">&#xe622;</i>
              <div class="pet_more_list_block_line_font">专题</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_bk pet_more_list_block_line_ico">&#xe629;</i>
              <div class="pet_more_list_block_line_font">订阅</div>
            </a>
            <a class="pet_more_list_block_line">
              <i class="iconfont pet_nav_wd pet_more_list_block_line_ico">&#xe602;</i>
              <div class="pet_more_list_block_line_font">专栏</div>
            </a>
          </div>
        </div>

      </div>
    </div>

    <div class="pet_content pet_content_list">
      <div class="pet_article_like">
        <div class="pet_content_main pet_article_like_delete">
          <div data-am-widget="list_news" class="am-list-news am-list-news-default am-no-layout">
            <section>
   
    
    <!-- main content start-->
    <div >

        <!-- header section start-->
        <div class="header-section">

        

        <!--notification menu start -->
        <div class="menu-right">
            <ul class="notification-menu">
                
                <li>
                    <a href="login.html" id="loginOK" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <img id="stuImg" src="" alt="" />
                        <span id="sname2" title=""></span>  
                                   
                    </a>
                    <a href="login1.html" id="loginNone" class="btn btn-default dropdown-toggle">
                        	登录/注册                   
                    </a>
                    <ul class="dropdown-menu dropdown-menu-usermenu pull-right">
                        
                        <li><a href="login1.html" id="logout"><i class="fa fa-sign-out"></i> Log Out</a></li>
                    </ul>
                </li>

            </ul>
        </div>
        <!--notification menu end -->

        </div>
        <!-- header section end-->

        <!-- page heading start-->
        <div class="page-heading">
            <h3>
                Dynamic Table
            </h3>
            <ul class="breadcrumb">
                <li>
                    <a href="#">Dashboard</a>
                </li>
                <li>
                    <a href="#">Data Tables</a>
                </li>
                <li class="active"> Dynamic Table </li>
            </ul>
          
        </div>
        <!-- page heading end-->

        <!--body wrapper start-->
        <div class="wrapper">
        <div class="row">
        <div>
        <section class="panel">
        <header class="panel-heading">
            Dynamic Tableaaa
           
        </header>
        <div class="panel-body">
			 <div id="searchForm2"  >
			   				
			   													   <label>ID:</label>
			   													  <div class="btn-group" style="width: 100px;">
			   													      <input type="text" class="form-control" id="id2" >
			   													  </div> &nbsp;&nbsp;&nbsp;
			        <label>公司名称:</label>
			       <div class="btn-group" style="width: 180px;">
			           <input type="text" id="name2" class="form-control">
			       </div>&nbsp;&nbsp;&nbsp;
			       <label>投递人数>:</label>
			       <div class="btn-group" style="width: 100px;">
			           <input type="text" id="age2" class="form-control">
			       </div>&nbsp;&nbsp;&nbsp;
			   													<label >包含专业:</label>
			   													<div class="btn-group">
			   													
			   													    <select class="form-control" style="width: 180px;" id="rolesItems2" name="">
			   																	 <!-- <option value="0">大一</option>
			   													        <option value="1">大一研究生</option>
			   													       <option value="2">大二研究生</option> -->
			   													    </select>
			   													</div>
																&nbsp;&nbsp;&nbsp;&nbsp;
			   													 <a class="btn btn-success" style="width: 100px;" data-toggle="modal" id="SearchNearlyComps">
			   													      Search
			   													</a>  
								
			</div>
			 <div class="form-group" id="searchForm1">	
					<!--	 -->	 				  
			          <a class="btn btn-primary" data-toggle="modal" href="#myModal2">
			                Add New
			          </a>
			          <a class="btn btn-primary" data-toggle="modal" href="#myModal3">
			                Upload Excel
			          </a>   
			          <a class="btn btn-primary" data-toggle="modal" id="delButton" href="javascript:;">
			                Delete Many
			          </a> 
									
			          
			 </div>	
		 	 <div class="clearfix">
				
                    <div class="btn-group">
							
                      
                         <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" 
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                 <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                            <h4 class="modal-title">Excel Upload Users</h4>
                                        </div>
                                        <div class="modal-body">
                                            <form action="#" class="form-horizontal " 
                                            enctype="multipart/form-data" id="formGrade" >
                                               
                                               
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">Excel Users:</label>
                                                    <div class="col-md-6">
                                                        <div class="input-group input-large custom-date-range" data-date="13/07/2013" data-date-format="mm/dd/yyyy">
                                                           <input type="file" onclick="inputFile()" value="inputExcel"  
                                class="btn btn-primary" name="xlfile" id="xlf" />
                                                        </div>
                                                       
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                         
                                        <button data-dismiss="modal"  class="btn btn-primary" id="insertButtonExcel" type="button">Upload</button>
                                            <button data-dismiss="modal" class="btn btn-primary" type="button">Close</button>
                                        </div>
                                    </div>
                                </div>    
                         </div>           
                            <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" 
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                            <h4 class="modal-title">User Insert</h4>
                                        </div>
                                        <div class="modal-body">
                                           <!-- enctype="multipart/form-data" 二进制上传的form必须添加的属性 -->
                                           <form action="#" class="form-horizontal " enctype="multipart/form-data"
                                             id="formUsers" >                                               
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">员工姓名:</label>
                                                    <div class="col-md-6 col-xs-11">
                                                        <input class="form-control" 
                                                        name="name" id="sname" size="16" type="text" value="" />                                                      
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">登录密码:</label>
                                                    <div class="col-md-6 col-xs-11">
                                                        <input class="form-control" 
                                                        name="pwd" id="pwd2" size="16" type="password" value="" />                                                      
                                                    </div>
                                                </div>
<!--  --> 
				                                 <div class="form-group">
				                                    <label class="control-label col-md-4">User Image:</label>
				                                    <div class="col-md-6 col-xs-11">
				                                        <div class="fileupload fileupload-new" data-provides="fileupload">
				                                            <div class="fileupload-new thumbnail" style="width: 200px; height: 150px;">
				                                                <img src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image" alt="" />
				                                            </div>
				                                            <div class="fileupload-preview fileupload-exists thumbnail" style="max-width: 200px; max-height: 150px; line-height: 20px;"></div>
				                                            <div>
				                                                   <span class="btn btn-default btn-file">
				                                                   <span class="fileupload-new"><i class="fa fa-paper-clip"></i> Select image</span>
				                                                   <span class="fileupload-exists"><i class="fa fa-undo"></i> Change</span>
				                                                   <input type="file" class="default" name="file1" />
				                                                   </span>
				                                                <a href="#" class="btn btn-danger fileupload-exists" data-dismiss="fileupload">
				                                                <i class="fa fa-trash"></i> Remove</a>
				                                                
				                                            </div>
				                                        </div>                              
				                                       
				                                    </div>
				                                </div>  
                                <!--  -->      
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">User Sex:</label>
                                                    <div class="col-md-6 col-xs-11">
                                                        <input checked="checked" class="rdo" value="男" type="radio"  name="sex">男                                 
                                                        <input  type="radio" class="rdo" name="sex"  value="女">女                                                      
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">Age:</label>
                                                    <div class="col-md-6">
                                                         <input class="form-control" id="sage"
                                                        name="uage" size="16" type="text" value="" />                                                      
                                                    </div>
                                                </div>
                                               
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">Roles:</label>
                                                    <div class="col-md-6">
                                                         <select class="form-control input-sm m-bot15" 
                                                         name="urid" id="insertRoles">
							                               
							                            </select>
                                                    </div>
                                                </div>
                                                 <div class="form-group">
                                                    <label class="control-label col-md-4">Text:</label>
                                                    <div class="col-md-6">
                                                         <input class="form-control" id="stext"
                                                        name="test" size="16" type="text" value="" />                                                      
                                                    </div>
                                                </div>
                                                  <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" id="insertButton">Submit</button>
                                            <button data-dismiss="modal" class="btn btn-primary" type="button">Close</button>
                                        </div>
                                            </form>
                                        </div>
                                      
                                    </div>
                                </div>
                            </div>
                            <!-- modal -->
                           
                    </div>   
                                  
                </div>
					<!--forms-->	
	
        <table id="table10"
		>      
        </table>
       
        </div>
        </section>
		<!---->
		<section class="panel">
        <header class="panel-heading">
        	<span  id="comDet"></span>
        	<span  id="cprose"></span>
        	<span  id="cimage"></span>
 			<input type="hidden" id="cmid"/>          
        </header>
    	
    	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" 
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span  aria-hidden="true">×</span>
 												</button>
			                					<h4 class="modal-title" id="exampleModalLabel"></h4>
                                        </div>
                                        <div class="modal-body">
                                           <form >                                              
                                        		<div class="form-group">  
			                        				 <h3 class="color-terques" id="recipient-name"></h3>  
			                                     </div>  
			                                     <div class="form-group">  
			                                   <!--   <img id="message-img" width='35' height='40' > -->
			                        				 <h5 class="color-terques" id="message-img"></h5>  
			                                     </div>
			                   					
			                  					  <div class="form-group">  
			                      					 <!--  -->
			                       						<input type="hidden" id="message-pid" />
			                  					  </div>
			                  					  
											</form>
  									      </div>     
                                                  <div class="modal-footer">
                                        <button type="button" style="width: 200px;" id="sendModel" class="btn btn-primary">Send message</button>
			                			<button type="button" style="width: 100px;" class="btn btn-default" data-dismiss="modal">Close</button>  

                                        </div>
                                    </div>
                                </div>
                            </div>
    	
        <table id="tb" class="table table-hover">
        </table>
         

		
		
        <div class="panel-body">     
        </div>
        </section>
        <section class="panel">
        <header class="panel-heading">
            Charts          
        </header>
        <div class="panel-body">
                    <div id="container"></div>
<button id="plain">普通</button>
<button id="inverted">反转</button>
<button id="polar">极地图</button>
              </div>       
        </section>
        </div>
        </div>
       
        </div>
        <!--body wrapper end-->

        <!--footer section start-->
        <footer>
            2014 &copy; AdminEx by ThemeBucket
        </footer>
        <!--footer section end-->
    

    </div>
    <!-- main content end-->
</section>

            </div>

          </div>

        </div>

        <div class="pet_article_footer_info">Copyright(c)2015 PetShow All Rights Reserved</div>
      </div>
    </div>
    
<script src="js/amazeui.min.js"></script>
<script src="../js/jquery-1.10.2.min.js"></script>
<script src="../js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="../js/jquery-migrate-1.2.1.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/modernizr.min.js"></script>
<script src="../js/jquery.nicescroll.js"></script>
<script src="../js/jquery-confirm.min.js"></script>
<!--dynamic table-->
<script src="../js/bootstrap-table.js"></script>  
<script src="../js/bootstrap-table-export.js"></script>
<script src="../js/bootstrap-table-zh-CN.js"></script>
<script src="../js/tableExport.js"></script>

<script type="text/javascript" language="javascript"
 src="../js/advanced-datatable/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="../js/data-tables/DT_bootstrap.js"></script>
<!--dynamic table initialization -->
<script src="../js/dynamic_table_init.js"></script>

<!--common scripts for all pages-->
<script src="../js/scripts.js"></script>
<!--file upload-->
<script type="text/javascript" src="../js/bootstrap-fileupload.min.js"></script>
<script src="../js/jquery.form.js" type="text/javascript"></script>
<script src="../js/fileload.js" type="text/javascript"></script>
<script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
	<script src="https://img.hcharts.cn/highcharts/highcharts-more.js"></script>
	<script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
		<script src="https://img.hcharts.cn/highcharts/modules/data.js"></script>
	<script src="https://img.hcharts.cn/highcharts/modules/drilldown.js"></script>
<script src="../js/layer.js"></script>

<script type="text/javascript">
$(document).ready(function(){
	//解析缓存login
	var usernifo= null;
	//HTML5和大多数浏览器兼容性问题了。
	if(window.localStorage){
		//读取HTML5中的缓存，key是deptlist，而且读取出来text格式，还需要JSON.p.. text转换为json格式
		usernifo=JSON.parse(localStorage.getItem("stuinfo"));
	}else{
		usernifo=Cookie.read("stuinfo");
	}
	
	//要把要存储HTML5缓存的数据放入缓存function
	function cl(key,msg){
		//存储，IE6~7 cookie 其他浏览器HTML5本地存储
		//判断当前浏览器是否支持HTML5，
		if (window.localStorage) {
			 //封装浏览器缓存 WebStrong，setItem类似setAttribute方法
		    localStorage.setItem(key,msg);	
		} else {
			//封装Cookie
		    Cookie.write(key,msg);	
		}
	} 
	
	if(usernifo!=null && usernifo!=""){
		//alert(usernifo.sname);
	    $("#sname2").html(usernifo.classes.clname+":"+usernifo.sname);
	    $("#sname2").attr("title",usernifo.sid);
	    //alert(usernifo.slogo);
	    $("#stuImg").attr("src","../upload/"+usernifo.slogo);
	    $("#loginOK").css('display','block');
	    $("#loginNone").css('display','none');
	    for(var i=0;i<usernifo.stumenus.length;i++){
	  		$("#"+usernifo.stumenus[i]+"").hide();
	  	}
	    //getScid();
	}else{
		$("#loginNone").css('display','block');
	    $("#loginOK").css('display','none');
	    //dataTable();
	}
	
	
	getAjax();
	function getAjax(){
		$.ajax({
			url:'../selectProjectsAll',
			method:'post',
			dataType:'json',
			success:function(data){
				var s="<option value='0'>---请选择---</option>";
				$.each(data,function(i){
					s+="<option value='"+data[i].pid+"'>"+data[i].pname+"</option>";
				});
				$("#rolesItems2").html(s);
			},
			error:function(){
				alert("err");
			}
		});
	}	
	var chart="";
	getChart();
	function getChart(){
		$.ajax({
			url:'../selectScoreforform',
			method:'post',
			dataType:'json',
			success:function(data){
		    chart = Highcharts.chart('container', {
		    	//柱状，默认线条
		    	/* chart: {
		            type: 'column'
		        }, */
		        title: {
		            text: '图表变换'
		        },
		        subtitle: {
		            text: '普通的'
		        },
		        xAxis: {
		            /* categories: data.categories */
		        	type:'category'
		        },
		        yAxis: {
		            title: {
		                text: '人数'
		            }
		        },
		        legend: {
		            enabled: false
		        },
		        plotOptions: {
		            series: {
		                borderWidth: 0,
		                dataLabels: {
		                    enabled: true,
		                    format: '{point.y:.1f}'
		                }
		            }
		        },
		        tooltip: {
		            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
		            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
		        },
		        series: [{
		            type: 'column',
		            colorByPoint: true,
		            data: /* [{
		                name: 'Microsoft Internet Explorer',
		                y: 56.33,
		                drilldown: 'Microsoft Internet Explorer'
		            }, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4] */
		            data.data,
		            showInLegend: false
		        }],
		        drilldown: {
		            series: data.series
		        }
    		});
			}
		});
    

	}
	$('#plain').click(function () {
        chart.update({
            chart: {
                inverted: false,
                polar: false
            },
            subtitle: {
                text: '普通的'
            }
        });
    });
    $('#inverted').click(function () {
        // chart.update 支持全部属性动态更新
        chart.update({
            chart: {
                inverted: true,
                polar: false
            },
            subtitle: {
                text: '反转'
            }
        });
    });
    $('#polar').click(function () {
        chart.update({
            chart: {
                inverted: false,
                polar: true
            },
            subtitle: {
                text: '极地图'
            }
        });
    });
	$("#SearchNearlyComps").click(function(){
		//id2,name2,age2,rolesItems2,SearchNearlyComps
		var cid=$("#id2").val();
		var cname=$("#name2").val();
		var numbers=$("#age2").val();
		var c_pros=$("#rolesItems2").val();
		var data={
			"cid":cid,
			"cname":cname,
			"numbers":numbers,
			"c_pros":c_pros,
		};
		$.ajax({
			url:'../selectNearlyComps',
			method:'post',			
			dataType:'json',
			data:data,
			success:function(data){
				$("#table10").bootstrapTable('load',data);
			},
			error:function(){
				alert("err");
			}
		});
	});
	//bootstrapTable搜索条件的函数，和queryParams : queryParams,属性是呼应的
	//最关键的意义是始终告知$("#table1").bootstrapTable函数始终是需要提交全部收入了的form表单内容搜索操作。
	function queryParams(params) {
      var temp ={
    		  rowNum: params.offset,
         	 rowCount: params.limit ,          	
     			 id:$("#id2").val(),
     			 uri:$("#rolesItems2").val(),
     			 age:$("#age2").val(),
     			 name:$("#name2").val(),
     			 fromDate:$("#DateFrom").val(),
     			 toDate:$("#DateTo").val()
      };
      return temp;
   }
	//var cid2=1;
	//function dataTable(){
		$("#table10").bootstrapTable({
	        //contentType: "application/x-www-form-urlencoded",//必须要有！！！！
			url: '../selectAll',
			method : 'get', //
			contentType:"application/x-www-form-urlencoded",
			//striped : true, //是否显示行间隔色
			toolbar: '#searchForm1',//searchForm1               
			pagination : true, //是否显示分页（*）
			queryParams : queryParams,
	         pageSize : 5, //初始化页大小
				pageList : [ 3, 5, 10 ],//data-page-list="[4, 7, 15]"
				singleSelect : false,
				sortable : true, //是否启用排序 				
				sidePagination : "client", //分页方式：client客户端分页，server服务端分页（*）
				strictSearch : true,
				minimumCountColumns : 2, //最少允许的列数
				clickToSelect : true, //是否启用点击选中行
				showRefresh : false, //是否显示刷新按钮
				uniqueId : "uid", //每一行的唯一标识，一般为主键列
				//cardView : true, //是否显示详细视图
				search : true,
				strictSearch : true,
				showColumns : true,
				showRefresh : true,
				showExport:true,
			onLoadError : function(data) {
				$('#table1').bootstrapTable('removeAll');
			},
			
			columns : [{
		        title: 'Image',
		        field: 'clogo',
		        align: 'center',
		        formatter:function(value,row,index){
		        	var d ="<img src='../images/clogo/"+row.clogo+"' title='"+row.cid+"' width='38' height='30' />";

		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 },{
				field : 'cid',
				title : '公司id',
				align : 'center',
	            sortable : true
			}, {
				field : 'cname',
				title : '公司名称',
				align : 'center',
	            sortable : true
			},/* {
				field : 'cdetail',
				title : '公司描述',
				align : 'center',
	            sortable : true
			}, */{
				field : 'numbers',
				title : '投递人数',
				align : 'center',
	            sortable : true
			},{
				field : 'pros',
				title : '公司专业',
				align : 'center',
	            sortable : true
			},{
		        title: '操作',
		        field: 'un',
		        align: 'center',
		        formatter:function(value,row,index){	
		        	if(index==0){
		        		$("#comDet").html(row.cname);
		        		$("#cmid").val(row.cid);
		        		$("#cprose").val(row.c_pros);
		        		$("#cimage").val(row.clogo);
		        		//cid2=row.cid;
		        		ProjectDetail(row);
		        	}
		        //把之前的列表链接 一行记录json {“uid”:2,"uname":....}	就是参数 row
		        	var d ="<a href='javascript:void(0);' media='"+row.c_pros+
		        	"' title='"+row.cid+"' id='delequ' class='btn btn-success' >详情</a>";
		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 }]
			,onClickRow: function (row, $element){
				var opt={
						url: "../selectProByCid?cid="+row.cid+"&pros="+row.c_pros,
						silent:true,
						query:{type:1,level:2}
				};
				$("#tb").bootstrapTable('refresh',opt);
				$("#comDet").html(row.cname);
        		$("#cmid").val(row.cid);
        		$("#cprose").val(row.c_pros);
        		$("#cimage").val(row.clogo);
        		//cid2=row.cid;
		    	//ProjectDetail(row);
		    }
	   });
	//}
	$(document).on("click","#delequ",function(){
		var pros=$(this).attr("media");
		var cid=$(this).attr("title");
		location.href="comp_details2.html?cid="+cid+"&pros="+pros;
	});
	$(document).on("click","#comdetail",function(){
		var pros=$("#cprose").val();
		var cid=$("#cmid").val();
		location.href="comp_details2.html?cid="+cid+"&pros="+pros;
	});
	//var sid2=$("#sname2").attr("title");
	function ProjectDetail(row){
	     /*  var cid=row.cid;
	      $.ajax({
				url:'selectProByCid',
				method:'post',
				dataType:'json',
				data:{"cid":cid},
				success:function(data){
					var s="";
					$.each(data,function(i){
						s+="<tr><td>"+data[i].pid+"</td><td>"+data[i].pname+"</td><td>"+data[i].pdetail+"</td><td>"+data[i].ptest+"</td></tr>";
					}); 
					$("#tb").html(s);
				},
				error:function(){
					alert("err1");
				}
			}); */
		$("#tb").bootstrapTable({
	        //contentType: "application/x-www-form-urlencoded",//必须要有！！！！
			url: '../selectProByCid',
			method : 'get', //
			contentType:"application/x-www-form-urlencoded",           
			pagination : false, //是否显示分页（*）
			queryParams : function(params){
				return{
					cid:row.cid,
					pros:row.c_pros
				};
			},
				clickToSelect : true, 
				uniqueId : "uid",
			onLoadError : function(data) {
				$('#table1').bootstrapTable('removeAll');
			},
			
			columns : [{
				field : 'pid',
				title : '专业id',
				align : 'center',
	            sortable : true
			},{
		        title: 'Image',
		        field: 'plogo',
		        align: 'center',
		        formatter:function(value,row,index){
		        	var d ="<img src='../images/plogo/"+row.plogo+"' title='"+row.pid+"' width='30' height='28' />";

		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 }, {
				field : 'pname',
				title : '专业名称',
				align : 'center',
	            sortable : true
			},{
				field : 'pdetail',
				title : '专业描述',
				align : 'center',
	            sortable : true
			},{
				field : 'numbers',
				title : '投递人数',
				align : 'center',
	            sortable : true
			},{
				field : 'test',
				title : 'test',
				align : 'center',
	            sortable : true
			},{
		        title: '操作',
		        field: 'un',
		        align: 'center',
		        formatter:function(value,row,index){		        
		        	var d="<button type='button' id='pidchoose' class='btn btn-danger' data-toggle='modal'"
			        	+"data-target='#exampleModal' data-whatever='"+row.pname+"'data-pid='"+
			        	row.pid+"' data-img='"+row.plogo+"'>选择</button>";
			        	//btn btn-success
			        	var s="&nbsp;<button id='comdetail' class='btn btn-success' type='button'>详情</button>"
			        	return d+s;

		        }
		    }]
	   });
	}
	 $("#exampleModal").on('show.bs.modal', function (event) {  
		  if(usernifo==null||usernifo==""){
				 $.confirm({
				    title: '提示',
				    theme: 'modern',
				    content: '请先登录再选择专业',
				    backgroundDismiss: true,//点击背景板弹框消失
				    buttons: {
				                 确认: function () {
				        	location.href="login.html";
				        },
				                 取消: function () {
				        	$("#exampleModal").modal("hide");
				        }				       
				    }
				});

			}
        var button = $(event.relatedTarget); // 触发事件的按钮  
        //专业名
        var recipient = button.data('whatever'); // 解析出data-whatever内容  
		//pid
		var pid1 = button.data('pid');
		//专业图名字
        var img1=button.data('img');
        var modal = $(this);
        if(usernifo.choose=="no"){
        	modal.find('.modal-title').text("确认选择该企业专业?");
		}else{
			modal.find('.modal-title').text("确认修改当前该企业专业?");
		}
        //
        modal.find('.modal-body #recipient-name').html("<img  width='75' height='70' src='../images/clogo/"+
        		$("#cimage").val()+"'> "+$("#comDet").html()) ; 
		
		modal.find('.modal-body #message-img').html("<img  width='35' height='40' src='../images/plogo/"+
        		img1+"'><span id='pna'>"+recipient+"</span>") ;
		
		//modal.find('.modal-body #message-text').html(recipient) ; 	
		modal.find('.modal-body #message-pid').val(pid1) ; 
    }); 
   
	$("#sendModel").click(function(){	

		var s_sid=$("#sname2").attr("title");
		var s_pid=$("#message-pid").val();
		var s_cid=$("#cmid").val();

		$.ajax({
			url:'../InsertOrUpdateScores',
			method:'post',			
			dataType:'json',
			data:{"cid":s_cid,
				"pid":s_pid,				
				"sid":s_sid,
				"scid":usernifo.choose			
			},
			success:function(data){
				//msg中ok出现位置，如果没有，返回-1
				if(data.msg.indexOf("ok")!=-1){
					usernifo.choose=data.choose;					
					usernifo.cname=$("#comDet").html();
					usernifo.pname=$("#pna").html();
					//alert(usernifo.cname+" \ "+usernifo.pname);
					cl("stuinfo",JSON.stringify(usernifo));
					var opt={
							url: "../selectProByCid?cid="+$("#cmid").val()+"&pros="+$("#cprose").val(),
							silent:true,
							query:{type:1,level:2}
					};
					$("#tb").bootstrapTable('refresh',opt);
					$("#comDet").html($("#comDet").html());
	        		$("#cmid").val($("#cmid").val());
	        		$("#cprose").val($("#cprose").val());
	        		$("#cimage").val($("#cimage").val());
	        		$("#exampleModal").modal("hide");
	        		
	        		layer.msg("选择成功");
				}else{
					alert(data.msg);
					$("#exampleModal").modal("hide");
				}
			},
			error:function(){
				alert("err");
			}
		});
	})
	/*  $(document).on("click","#pidchoose",function(){
		if(usernifo==null||usernifo==""){
			if(confirm("请先登录,再选择投递专业!")){
				location.href="login.html";
			}
			return;
		}
		var sid=$("#sname2").attr("title");
		var pid=$(this).attr("title");
		var cid=$("#cmid").val();
		var scid=$(this).attr("value");
		alert("sid:"+sid+" pid:"+pid+" cid:"+cid+" scid:"+scid);
	});  */
	//}
	$("#logout").bind("click",function(){
		if (window.localStorage) {
			window.localStorage.removeItem("stuinfo");	
		}
	});
	$("#delButton").click(function(){
	     var a= $("#table10").bootstrapTable('getSelections');
            		 if(a.length<=0){
            			 alert("请选中一行")
            		}else{
            			//var b=JSON.stringify( a );
						$.each(a,function(i){
							alert("ID:"+a[i].infoid); 
						})          			
            		}
	})	
})
</script>
</body>
  </html>