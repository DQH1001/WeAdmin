<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="ThemeBucket">
  <link rel="shortcut icon" href="#" type="image/png">
  <!--<link href="media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
   <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css"/>-->

  <title>Teacher Table</title>
  <link href="https://cdn.bootcss.com/jquery-confirm/3.2.3/jquery-confirm.min.css" rel="stylesheet">
     <!--  <link rel="stylesheet" href="js/jquery-confirm.min.css"> -->
 <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
 <link rel="icon" href="https://static.jianshukeji.com/highcharts/images/favicon.ico">
   <!--dynamic table-->
  <link href="js/advanced-datatable/css/demo_page.css" rel="stylesheet" />
  <link href="js/advanced-datatable/css/demo_table.css" rel="stylesheet" />
  <link rel="stylesheet" href="js/data-tables/DT_bootstrap.css" />

  <link href="css/style.css" rel="stylesheet">
  <link href="css/style-responsive.css" rel="stylesheet">

 <link rel="stylesheet" href="css/bootstrap-table.css" />
 
 <link rel="stylesheet" type="text/css" href="js/bootstrap-datepicker/css/datepicker-custom.css" />
 <link rel="stylesheet" type="text/css" href="js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
  <link rel="stylesheet" type="text/css" href="js/bootstrap-datetimepicker/css/datetimepicker-custom.css" />
   <!--file upload-->
    <link rel="stylesheet" type="text/css" href="css/bootstrap-fileupload.min.css" />
  <link href="css/layer.css" rel="stylesheet">
 
 <!-- 	
 HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="js/html5shiv.js"></script>
  <script src="js/respond.min.js"></script>
  <![endif]-->
</head>

<body class="sticky-header">

<section>
    <!-- left side start-->
    <div class="left-side sticky-left-side">

        <!--logo and iconic logo start-->
        <div class="logo">
            <a href="index.html"><img src="images/logo.png" alt=""></a>
        </div>

        <div class="logo-icon text-center">
            <a href="index.html"><img src="images/logo_icon.png" alt=""></a>
        </div>
        <!--logo and iconic logo end-->


        <div class="left-side-inner">

            <!-- visible to small devices only -->
            <div class="visible-xs hidden-sm hidden-md hidden-lg">
                <div class="media logged-user">
                    <img alt="" src="images/photos/user-avatar.png" class="media-object">
                    <div class="media-body">
                        <h4><a href="#">John Doeww</a></h4>
                        <span>"Hello There..."</span>
                    </div>
                </div>

                <h5 class="left-nav-title">Account Information</h5>
                <ul class="nav nav-pills nav-stacked custom-nav">
                    <li><a href="#"><i class="fa fa-user"></i> <span>Profile</span></a></li>
                    <li><a href="#"><i class="fa fa-cog"></i> <span>Settings</span></a></li>
                    <li><a href="#"><i class="fa fa-sign-out"></i> <span>Sign Out</span></a></li>
                </ul>
            </div>

            <!--sidebar nav start-->
            <ul class="nav nav-pills nav-stacked custom-nav" id="t1">
               
               <li id="main"><a href="dynamic_table.html"><i class="fa fa-home"></i> <span>主页</span></a></li>
                <li id="profile"><a href="profile.html"><i class="fa fa-laptop"></i> <span>个人中心</span></a></li>
               	<li id="login"><a href="login.html"><i class="fa fa-sign-in"></i> <span>登录</span></a></li>
               	<li id="teacher"><a href="student_list.html"><i class="fa fa-laptop"></i> <span>教师管理</span></a></li>
               	 	<li id="Yz"><a href="dynamic_table2.html"><i class="fa fa-laptop"></i> <span>调剂人数</span></a></li>
            </ul>
            <ul class="nav nav-pills nav-stacked custom-nav" id="t2">
               
             	<li id="login"><a href="login.html"><i class="fa fa-sign-in"></i> <span>登录</span></a></li>
               	<li id="teacher"><a href="student_list.html"><i class="fa fa-laptop"></i> <span>教师管理</span></a></li>
               	<li id="Yz"><a href="dynamic_table2.html"><i class="fa fa-laptop"></i> <span>调剂人数</span></a></li>
            </ul>
            <!--sidebar nav end-->

        </div>
    </div>
    <!-- left side end-->
    
    <!-- main content start-->
    <div class="main-content" >

        <!-- header section start-->
        <div class="header-section">

        <!--toggle button start-->
        <a class="toggle-btn"><i class="fa fa-bars"></i></a>
        <!--toggle button end-->

        <!--search start-->
        <form class="searchform" action="index.html" method="post">
            <input type="text" class="form-control" name="keyword" placeholder="Search here..." />
        </form>
        <!--search end-->

        <!--notification menu start -->
        <div class="menu-right">
            <ul class="notification-menu">
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle info-number" data-toggle="dropdown">
                        <i class="fa fa-tasks"></i>
                        <span class="badge">8</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-head pull-right">
                        <h5 class="title">You have 8 pending task</h5>
                        <ul class="dropdown-list user-list">
                            <li class="new">
                                <a href="#">
                                    <div class="task-info">
                                        <div>Database update</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 40%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="40" role="progressbar" class="progress-bar progress-bar-warning">
                                            <span class="">40%</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="new">
                                <a href="#">
                                    <div class="task-info">
                                        <div>Dashboard done</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 90%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="90" role="progressbar" class="progress-bar progress-bar-success">
                                            <span class="">90%</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="task-info">
                                        <div>Web Development</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 66%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="66" role="progressbar" class="progress-bar progress-bar-info">
                                            <span class="">66% </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="task-info">
                                        <div>Mobile App</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 33%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="33" role="progressbar" class="progress-bar progress-bar-danger">
                                            <span class="">33% </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <div class="task-info">
                                        <div>Issues fixed</div>
                                    </div>
                                    <div class="progress progress-striped">
                                        <div style="width: 80%" aria-valuemax="100" aria-valuemin="0" aria-valuenow="80" role="progressbar" class="progress-bar">
                                            <span class="">80% </span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li class="new"><a href="">See All Pending Task</a></li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle info-number" data-toggle="dropdown">
                        <i class="fa fa-envelope-o"></i>
                        <span class="badge">5</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-head pull-right">
                        <h5 class="title">You have 5 Mails </h5>
                        <ul class="dropdown-list normal-list">
                            <li class="new">
                                <a href="">
                                    <span class="thumb"><img src="images/photos/user1.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">John Doeaa <span class="badge badge-success">new</span></span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="images/photos/user2.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">Jonathan Smith</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="images/photos/user3.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">Jane Doe</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="images/photos/user4.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">Mark Henry</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li>
                                <a href="">
                                    <span class="thumb"><img src="images/photos/user5.png" alt="" /></span>
                                        <span class="desc">
                                          <span class="name">Jim Doe</span>
                                          <span class="msg">Lorem ipsum dolor sit amet...</span>
                                        </span>
                                </a>
                            </li>
                            <li class="new"><a href="">Read All Mails</a></li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="#" class="btn btn-default dropdown-toggle info-number" data-toggle="dropdown">
                        <i class="fa fa-bell-o"></i>
                        <span class="badge">4</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-head pull-right">
                        <h5 class="title">Notifications</h5>
                        <ul class="dropdown-list normal-list">
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #1 overloaded.  </span>
                                    <em class="small">34 mins</em>
                                </a>
                            </li>
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #3 overloaded.  </span>
                                    <em class="small">1 hrs</em>
                                </a>
                            </li>
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #5 overloaded.  </span>
                                    <em class="small">4 hrs</em>
                                </a>
                            </li>
                            <li class="new">
                                <a href="">
                                    <span class="label label-danger"><i class="fa fa-bolt"></i></span>
                                    <span class="name">Server #31 overloaded.  </span>
                                    <em class="small">4 hrs</em>
                                </a>
                            </li>
                            <li class="new"><a href="">See All Notifications</a></li>
                        </ul>
                    </div>
                </li>
                <li>
                    <a href="login.html" id="loginOK" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        <img id="stuImg" src="" alt="" />
                        <span id="sname2" title=""></span>  
                                   
                    </a>
                    <a href="login.html" id="loginNone" class="btn btn-default dropdown-toggle">
                        	登录/注册                   
                    </a>
                    <ul class="dropdown-menu dropdown-menu-usermenu pull-right">
                       <!--  <li><a href="#"><i class="fa fa-user"></i>  Profile</a></li>
                        <li><a href="#"><i class="fa fa-cog"></i>  Settings</a></li> -->
                        <li><a href="login.html" id="logout"><i class="fa fa-sign-out"></i> Log Out</a></li>
                    </ul>
                </li>

            </ul>
        </div>
        <!--notification menu end -->

        </div>
        <!-- header section end-->

        <!-- page heading start-->
        <div class="page-heading">
            <h3>
                Dynamic Table
            </h3>
            <ul class="breadcrumb">
                <li>
                    <a href="#">Dashboard</a>
                </li>
                <li>
                    <a href="#">Data Tables</a>
                </li>
                <li class="active"> Dynamic Table </li>
            </ul>
          
        </div>
        <!-- page heading end-->

        <!--body wrapper start-->
        <div class="wrapper">
        <div class="row">
        <div class="col-sm-12">
        <section class="panel">
        <header class="panel-heading">
            Dynamic Tableaaa
           
        </header>
        <div class="panel-body">
			 <div di="searchForm2"  >
			   				<!-- 
			   													  <label >Name:</label>
			   													 <div class="btn-group" style="width: 150px;">
			   													 
			   													     <input type="text" id="name2" class="form-control">
			   													 </div>
			   													  class="col-sm-2 col-sm-2 control-label"
			   													  class="col-sm-4"-->
			   													   <label>学生ID:</label>
			   													  <div class="btn-group" style="width: 100px;">
			   													      <input type="text" class="form-control" id="id2" >
			   													  </div> &nbsp;&nbsp;&nbsp;
			   													  
															        <label>name:</label>
															       <div class="btn-group" style="width: 140px;">
															           <input type="text" id="name2" class="form-control">
															       </div>&nbsp;&nbsp;&nbsp;
															       
															       <label >企业:</label>
			   														<div class="btn-group">		<!-- 原先id=age2 -->	   													
			   													    <select class="form-control" style="width: 180px;" id="compsItems2" name="">
			   																	
			   													    </select>
			   													</div>
			   													<label >专业:</label>
			   													<div class="btn-group">
			   													
			   													    <select class="form-control" style="width: 180px;" id="rolesItems2" name="">
			   																	 <!-- <option value="0">大一</option>
			   													        <option value="1">大一研究生</option>
			   													       <option value="2">大二研究生</option> -->
			   													    </select>
			   													</div>
																&nbsp;&nbsp;&nbsp;&nbsp;
			   													 <a class="btn btn-success" style="width: 100px;" data-toggle="modal" id="SearchNearlyComps">
			   													      Search
			   													</a>  
																	<!--
			   													 <label >Date:</label>
			   													   <div class="col-sm-3">
			   													       <div class="input-group input-large custom-date-range" data-date="13/07/2013" data-date-format="mm/dd/yyyy">
			   													       <input type="text" class="form-control dpd1" name="from" id="DateFrom">
			   													       <span class="input-group-addon">To</span>
			   													       <input type="text" class="form-control dpd2" name="to" id="DateTo">
			   													   </div>
			   													   </div>
			   												
			   													     <div class="btn-group" >
			   													      <button id="editable-sample_new" style="width: 120px;"
			   													      class="btn btn-primary">
			   													                     Search 
			   													                 </button>
			   													             </div>   
			   			                                     -->
			   												<!--
			    <div class="form-group">
			   													   <div class="btn-group" >
			   													  <button id="editable-sample_new" style="width: 120px;"
			   													  class="btn btn-primary">
			   													                 Search 
			   													             </button>
			   													         </div>
			   												</div>  -->	 
			   <!--
			       <div class="col-sm-4">
			           <button id="SearchBtn" class="btn btn-primary" type="button" lang="50"
			            style="size: 50;"  >   &nbsp;&nbsp;&nbsp;Search&nbsp;&nbsp;&nbsp;   </button>
			       </div>
			   -->
		
		<!--	-->	
			</div>
			 <div class="form-group" id="searchForm1">	
					<!--	 -->	 				  
			          <!-- <a class="btn btn-primary" data-toggle="modal" href="#myModal2">
			                Add New
			          </a> -->
			          <a class="btn btn-primary" onclick="exportExcel()">
			                Export Excel
			          </a>
			          <a class="btn btn-primary" data-toggle="modal"  href="#myModal3">
			                Upload Excel
			          </a>   
			          <a class="btn btn-primary" data-toggle="modal" id="delButton" href="javascript:;">
			                Delete Many
			          </a> 
									
			          
			 </div>	
		 	 <div class="clearfix">
				
                    <div class="btn-group">
							
                        <!--<button id="editable-sample_new" class="btn btn-primary">
                           <i class="fa fa-plus"></i>
                        </button>-->
                         <!-- Modal -->
                         <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" 
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                 <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                            <h4 class="modal-title">批量添加</h4>
                                        </div>
                                        <div class="modal-body">
                                            <form action="#" class="form-horizontal " 
                                            enctype="multipart/form-data" id="formGrade" >
                                               
                                               
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">选择文件:</label>
                                                    <div class="col-md-6">
                                                        <div class="input-group input-large custom-date-range" data-date="13/07/2013" data-date-format="mm/dd/yyyy">
                                                           <input type="file" onclick="inputFile()" value="inputExcel"  
                                class="btn btn-primary" name="xlfile" id="xlf" />
                                                        </div>
                                                       
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        <div class="modal-footer">
                                         
                                        <button data-dismiss="modal" onclick="inputFile1()" class="btn btn-primary" id="insertButtonExcel" type="button">Upload</button>
                                            <button data-dismiss="modal" class="btn btn-primary" type="button">Close</button>
                                        </div>
                                    </div>
                                </div>    
                         </div>
       
                            <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" 
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                            <h4 class="modal-title">User Insert</h4>
                                        </div>
                                        <div class="modal-body">
                                           <!-- enctype="multipart/form-data" 二进制上传的form必须添加的属性 -->
                                           <form action="#" class="form-horizontal " enctype="multipart/form-data"
                                             id="formUsers" >                                               
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">员工姓名:</label>
                                                    <div class="col-md-6 col-xs-11">
                                                        <input class="form-control" 
                                                        name="name" id="sname" size="16" type="text" value="" />                                                      
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">登录密码:</label>
                                                    <div class="col-md-6 col-xs-11">
                                                        <input class="form-control" 
                                                        name="pwd" id="pwd2" size="16" type="password" value="" />                                                      
                                                    </div>
                                                </div>
<!--  --> 
				                                 <div class="form-group">
				                                    <label class="control-label col-md-4">User Image:</label>
				                                    <div class="col-md-6 col-xs-11">
				                                        <div class="fileupload fileupload-new" data-provides="fileupload">
				                                            <div class="fileupload-new thumbnail" style="width: 200px; height: 150px;">
				                                                <img src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image" alt="" />
				                                            </div>
				                                            <div class="fileupload-preview fileupload-exists thumbnail" style="max-width: 200px; max-height: 150px; line-height: 20px;"></div>
				                                            <div>
				                                                   <span class="btn btn-default btn-file">
				                                                   <span class="fileupload-new"><i class="fa fa-paper-clip"></i> Select image</span>
				                                                   <span class="fileupload-exists"><i class="fa fa-undo"></i> Change</span>
				                                                   <input type="file" class="default" name="file1" />
				                                                   </span>
				                                                <a href="#" class="btn btn-danger fileupload-exists" data-dismiss="fileupload">
				                                                <i class="fa fa-trash"></i> Remove</a>
				                                                
				                                            </div>
				                                        </div>                              
				                                       
				                                    </div>
				                                </div>  
                                <!--  -->      
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">User Sex:</label>
                                                    <div class="col-md-6 col-xs-11">
                                                        <input checked="checked" class="rdo" value="男" type="radio"  name="sex">男                                 
                                                        <input  type="radio" class="rdo" name="sex"  value="女">女                                                      
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">Age:</label>
                                                    <div class="col-md-6">
                                                         <input class="form-control" id="sage"
                                                        name="uage" size="16" type="text" value="" />                                                      
                                                    </div>
                                                </div>
                                               
                                                <div class="form-group">
                                                    <label class="control-label col-md-4">Roles:</label>
                                                    <div class="col-md-6">
                                                         <select class="form-control input-sm m-bot15" 
                                                         name="urid" id="insertRoles">
							                               
							                            </select>
                                                    </div>
                                                </div>
                                                 <div class="form-group">
                                                    <label class="control-label col-md-4">Text:</label>
                                                    <div class="col-md-6">
                                                         <input class="form-control" id="stext"
                                                        name="test" size="16" type="text" value="" />                                                      
                                                    </div>
                                                </div>
                                                  <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" id="insertButton">Submit</button>
                                            <button data-dismiss="modal" class="btn btn-primary" type="button">Close</button>
                                        </div>
                                            </form>
                                        </div>
                                      
                                    </div>
                                </div>
                            </div>
                            <!-- modal -->
                           
                    </div>   
                                  
                </div>
					<!--forms-->	
	
        <table id="table10"
		>      
        </table>
       
        </div>
        </section>
		<!---->
		<section class="panel">
        <header class="panel-heading">
        	<span  id="comDet"></span>
        	<span  id="cprose"></span>
        	<span  id="cimage"></span>
 			<input type="hidden" id="cmid"/>          
        </header>
    
        <table id="tb" class="table table-hover">
        </table>
         <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" 
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span  aria-hidden="true">×</span>
 												</button>
			                					<h4 class="modal-title" id="exampleModalLabel"></h4>
                                        </div>
                                        <div class="modal-body">
                                           <form >                                              
                                        		<div class="form-group">  
			                        				 <h3 class="color-terques" id="recipient-name"></h3>  
			                                     </div>  
			                                     <div class="form-group">  
			                                   <!--   <img id="message-img" width='35' height='40' > -->
			                        				 <h5 class="color-terques" id="message-img"></h5>  
			                                     </div>
			                   					
			                  					  <div class="form-group">  
			                      					 <!--  -->
			                       						<input type="hidden" id="message-pid" />
			                  					  </div>
			                  					  
											</form>
  									      </div>     
                                                  <div class="modal-footer">
                                        <button type="button" style="width: 200px;" id="sendModel" class="btn btn-primary">Send message</button>
			                			<button type="button" style="width: 100px;" class="btn btn-default" data-dismiss="modal">Close</button>  

                                        </div>
                                    </div>
                                </div>
                            </div>

		
			<!-- <div class="jquery_confirm____" style="display:none">
			
			 <div class="jquery_confirm____body">确认框消息</div>
			
			 <div class="jquery_confirm____footer">
			
			  <button class="button button-primary jquery_confirm____sure">确认</button>
			
			  <button class="button button-error jquery_confirm____cancel">取消</button>
			
			 </div>
			
			</div> -->
		
		
        <div class="panel-body">     
        </div>
        </section>
        <section class="panel">
        <header class="panel-heading">
            Charts          
        </header>
        <div class="panel-body">
                    <div id="container"></div>
<button id="plain">普通</button>
<button id="inverted">反转</button>
<button id="polar">极地图</button>
              </div>       
        </section>
        </div>
        </div>
       
        </div>
        <!--body wrapper end-->

        <!--footer section start-->
        <footer>
            2014 &copy; AdminEx by ThemeBucket
        </footer>
        <!--footer section end-->
    

    </div>
    <!-- main content end-->
</section>

<!-- Placed js at the end of the document so the pages load faster -->
<!-- <script src="https://cdn.bootcss.com/jquery-confirm/3.2.3/jquery-confirm.min.js "></script> -->

<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="js/jquery-migrate-1.2.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/modernizr.min.js"></script>
<script src="js/jquery.nicescroll.js"></script>
<script src="js/jquery-confirm.min.js"></script>
<!--dynamic table-->
<script src="js/bootstrap-table.js"></script>  
<script src="js/bootstrap-table-export.js"></script>
<script src="js/bootstrap-table-zh-CN.js"></script>
<script src="js/tableExport.js"></script>

<script type="text/javascript" language="javascript"
 src="js/advanced-datatable/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="js/data-tables/DT_bootstrap.js"></script>
<!--dynamic table initialization -->
<script src="js/dynamic_table_init.js"></script>

<!--common scripts for all pages-->
<script src="js/scripts.js"></script>
<!--file upload-->
<script type="text/javascript" src="js/bootstrap-fileupload.min.js"></script>
<script src="js/jquery.form.js" type="text/javascript"></script>
<script src="js/fileload.js" type="text/javascript"></script>

<script src="js/xlsx/shim.js"></script>
<script src="js/xlsx/jszip.js"></script>
<script src="js/xlsx/xlsx.js"></script>
<script src="js/xlsx/ods.js"></script>

<script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
	<script src="https://img.hcharts.cn/highcharts/highcharts-more.js"></script>
	<script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
		<script src="https://img.hcharts.cn/highcharts/modules/data.js"></script>
	<script src="https://img.hcharts.cn/highcharts/modules/drilldown.js"></script>
		<script src="js/layer.js"></script>
<script type="text/javascript">
var usernifo= null;
$(document).ready(function(){
	$("#t2").hide();
	//解析缓存login
	
	//HTML5和大多数浏览器兼容性问题了。
	if(window.localStorage){
		//读取HTML5中的缓存，key是deptlist，而且读取出来text格式，还需要JSON.p.. text转换为json格式
		usernifo=JSON.parse(localStorage.getItem("teainfo"));
	}else{
		usernifo=Cookie.read("teainfo");
	}
	
	//要把要存储HTML5缓存的数据放入缓存function
	function cl(key,msg){
		//存储，IE6~7 cookie 其他浏览器HTML5本地存储
		//判断当前浏览器是否支持HTML5，
		if (window.localStorage) {
			 //封装浏览器缓存 WebStrong，setItem类似setAttribute方法
		    localStorage.setItem(key,msg);	
		} else {
			//封装Cookie
		    Cookie.write(key,msg);	
		}
	} 

	if(usernifo!=null && usernifo!=""){
		//alert(usernifo.sname);
	    $("#sname2").html(usernifo.teaname);
	    $("#sname2").attr("title",usernifo.teaid);
	    //alert(usernifo.slogo);
	    $("#stuImg").attr("src","upload/"+usernifo.tealogo);
	    $("#loginOK").css('display','block');
	    $("#loginNone").css('display','none');
	    if(usernifo.teaid!=2){
	    	for(var i=0;i<usernifo.teamenus.length;i++){
		  		$("#"+usernifo.teamenus[i]+"").hide();
		  	}
	    }else{
	    	$("#t2").show();
	    	$("#t1").hide();
	    }
	  	
	  	
	    //getScid();
	}else{
		$("#loginNone").css('display','block');
	    $("#loginOK").css('display','none');
	    //dataTable();
	}

	getProANDComps();
	function getProANDComps(){
		$.ajax({
			url:'getProANDComps',
			method:'post',
			dataType:'json',
			success:function(data){
				var s="<option value='0'>---请选择---</option>";
				$.each(data.projs,function(i){
					s+="<option value='"+data.projs[i].pid+"'>"+data.projs[i].pname+"</option>";
				});
				$("#rolesItems2").html(s);
				
				s="<option value='0'>---请选择---</option>";
				$.each(data.comps,function(i){
					s+="<option value='"+data.comps[i].cid+"'>"+data.comps[i].cname+"</option>";
				});
				$("#compsItems2").html(s);
			},
			error:function(){
				alert("err");
			}
		});
	}
	/* id2	name2	compsItems2	rolesItems2	 */
	$("#SearchNearlyComps").click(function(){
		//id2,name2,age2,rolesItems2,SearchNearlyComps
		var sid=$("#id2").val();
		var sname=$("#name2").val();
		var cid=$("#compsItems2").val();
		var pid=$("#rolesItems2").val();
		var data={
			"sid":sid,
			"sname":sname,
			"cid":cid,
			"pid":pid
		};
		$.ajax({
			url:'selectNearlyStus',
			method:'post',			
			dataType:'json',
			data:data,
			success:function(data){
				$("#table10").bootstrapTable('load',data);
			},
			error:function(){
				alert("err");
			}
		});
	});
	//bootstrapTable搜索条件的函数，和queryParams : queryParams,属性是呼应的
	//最关键的意义是始终告知$("#table1").bootstrapTable函数始终是需要提交全部收入了的form表单内容搜索操作。
	function queryParams(params) {
      var temp ={
    		  rowNum: params.offset,
         	 rowCount: params.limit ,          	
     			 id:$("#id2").val(),
     			 uri:$("#rolesItems2").val(),
     			 age:$("#age2").val(),
     			 name:$("#name2").val(),
     			 fromDate:$("#DateFrom").val(),
     			 toDate:$("#DateTo").val()
      };
      return temp;
   }
	
		$("#table10").bootstrapTable({
	        //contentType: "application/x-www-form-urlencoded",//必须要有！！！！
			url: 'selectStusChooseInfo',
			method : 'get', //
			contentType:"application/x-www-form-urlencoded",
			//striped : true, //是否显示行间隔色
			toolbar: '#searchForm1',//searchForm1               
			pagination : true, //是否显示分页（*）
			queryParams : queryParams,
	         pageSize : 5, //初始化页大小
				pageList : [ 3, 5, 10 ],//data-page-list="[4, 7, 15]"
				singleSelect : false,
				sortable : true, //是否启用排序 				
				sidePagination : "client", //分页方式：client客户端分页，server服务端分页（*）
				strictSearch : true,
				minimumCountColumns : 2, //最少允许的列数
				clickToSelect : true, //是否启用点击选中行
				showRefresh : false, //是否显示刷新按钮
				uniqueId : "uid", //每一行的唯一标识，一般为主键列
				//cardView : true, //是否显示详细视图
				search : true,
				strictSearch : true,
				showColumns : true,
				showRefresh : true,
				showExport:true,
			onLoadError : function(data) {
				$('#table1').bootstrapTable('removeAll');
			},
			
			columns : [{
				align : 'center',
				checkbox: true,                          // 显示复选框
				formatter: function(value, row, index) {
				    if (row.state == true)
				        return {
				            disabled : true,//设置是否可用
				            checked : true//设置选中
				        };
				    
				    return value;
				}
            },{
		        title: 'Image',
		        field: 'slogo',
		        align: 'center',
		        formatter:function(value,row,index){
		        	var d ="<img src='"+row.slogo+"' title='"+row.sid+"' width='38' height='30' />";
		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 },{
				field : 'sid',
				title : '学号',
				align : 'center',
	            sortable : true
			}, {
				field : 'sname',
				title : '姓名',
				align : 'center',
	            sortable : true
			},{
				field : 'sdate',
				title : '入学日期',
				align : 'center',
	            sortable : true
			},{
				field : 'sclass',
				title : '班级',
				align : 'center',
	            sortable : true
			},{
				field : 'cname',
				title : '已选公司',
				align : 'center',
	            sortable : true
			},{
				field : 'pname',
				title : '已选专业',
				align : 'center',
	            sortable : true
			},{
		        title: '操作',
		        field: 'un',
		        align: 'center',
		        formatter:function(value,row,index){	
		        //把之前的列表链接 一行记录json {“uid”:2,"uname":....}	就是参数 row
		        	var d ="<a href='javascript:void(0);' title='"+row.sid+"' id='delequ' class='btn btn-success' >详情</a>";
		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 }]
			,onClickRow: function (row, $element){
				/* var opt={
						url: "selectProByCid?cid="+row.cid+"&pros="+row.c_pros,
						silent:true,
						query:{type:1,level:2}
				};
				$("#tb").bootstrapTable('refresh',opt);
				$("#comDet").html(row.cname);
        		$("#cmid").val(row.cid);
        		$("#cprose").val(row.c_pros);
        		$("#cimage").val(row.clogo); */
        		//cid2=row.cid;
		    	//ProjectDetail(row);
		    }
	   });
	//}
		$(document).on("click","#delequ",function(){
			if(usernifo==null){
				if(confirm("请先登录，再进行操作")){
					location.href="login.html";
				}
				return;
			}
			var sid=$(this).attr("title");
			location.href="profile2.html?sid="+sid;

		});
		$("#tb").bootstrapTable({
	        //contentType: "application/x-www-form-urlencoded",//必须要有！！！！
			url: 'selectNoCheckCompsAll',
			method : 'get', //
			contentType:"application/x-www-form-urlencoded",
			//striped : true, //是否显示行间隔色
			//toolbar: '#searchForm1',//searchForm1               
			pagination : true, //是否显示分页（*）
			queryParams : queryParams,
	         pageSize : 5, //初始化页大小
				pageList : [ 3, 5, 10 ],//data-page-list="[4, 7, 15]"
				singleSelect : false,
				sortable : true, //是否启用排序 				
				sidePagination : "client", //分页方式：client客户端分页，server服务端分页（*）
				strictSearch : true,
				minimumCountColumns : 2, //最少允许的列数
				clickToSelect : true, //是否启用点击选中行
				showRefresh : false, //是否显示刷新按钮
				uniqueId : "uid", //每一行的唯一标识，一般为主键列
				//cardView : true, //是否显示详细视图
				search : true,
				strictSearch : true,
				showColumns : true,
				showRefresh : true,
				showExport:true,
			onLoadError : function(data) {
				$('#table1').bootstrapTable('removeAll');
			},
			
			columns : [{
				align : 'center',
				checkbox: true,                          // 显示复选框
				formatter: function(value, row, index) {
				    if (row.state == true)
				        return {
				            disabled : true,//设置是否可用
				            checked : true//设置选中
				        };
				    
				    return value;
				}
            },{
		        title: 'Image',
		        field: 'clogo',
		        align: 'center',
		        formatter:function(value,row,index){
		        	var d ="<img src='images/clogo/"+row.clogo+"' title='"+row.cid+"' width='38' height='30' />";

		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 },{
				field : 'cid',
				title : '公司id',
				align : 'center',
	            sortable : true
			}, {
				field : 'cname',
				title : '公司名称',
				align : 'center',
	            sortable : true
			},{
				field : 'cdetail',
				title : '公司描述',
				align : 'center',
	            sortable : true
			},{
				field : 'pros',
				title : '公司专业',
				align : 'center',
	            sortable : true
			},{
		        title: '操作',
		        field: 'un',
		        align: 'center',
		        formatter:function(value,row,index){	
		        	
		        //把之前的列表链接 一行记录json {“uid”:2,"uname":....}	就是参数 row
		        	var d ="<a onclick=updateNoCheckCompsBycid("+row.cid+") class='btn btn-success' >通过审核</a>";
		        	//row.uid得bootstrap当前table的一行找到   
		        	return d;
		        }
			 }]
	   });
	 $("#exampleModal").on('show.bs.modal', function (event) {  
		  if(usernifo==null||usernifo==""){
				 $.confirm({
				    title: '提示',
				    theme: 'modern',
				    content: '请先登录再选择专业',
				    backgroundDismiss: true,//点击背景板弹框消失
				    buttons: {
				                 确认: function () {
				        	location.href="login.html";
				        },
				                 取消: function () {
				        	$("#exampleModal").modal("hide");
				        }				       
				    }
				});

			}
        var button = $(event.relatedTarget); // 触发事件的按钮  
        //专业名
        var recipient = button.data('whatever'); // 解析出data-whatever内容  
		//pid
		var pid1 = button.data('pid');
		//专业图名字
        var img1=button.data('img');
        var modal = $(this);
        if(usernifo.choose=="no"){
        	modal.find('.modal-title').text("确认选择该企业专业?");
		}else{
			modal.find('.modal-title').text("确认修改当前该企业专业?");
		}
        //
        modal.find('.modal-body #recipient-name').html("<img  width='75' height='70' src='images/clogo/"+
        		$("#cimage").val()+"'> "+$("#comDet").html()) ; 
		
		modal.find('.modal-body #message-img').html("<img  width='35' height='40' src='images/plogo/"+
        		img1+"'><span id='pna'>"+recipient+"</span>") ;
		
		//modal.find('.modal-body #message-text').html(recipient) ; 	
		modal.find('.modal-body #message-pid').val(pid1) ; 
    }); 
	 var chart="";
		getChart();
		function getChart(){
			$.ajax({
				url:'selectScoreforform',
				method:'post',
				dataType:'json',
				success:function(data){
			    chart = Highcharts.chart('container', {
			    	//柱状，默认线条
			    	/* chart: {
			            type: 'column'
			        }, */
			        title: {
			            text: '图表变换'
			        },
			        subtitle: {
			            text: '普通的'
			        },
			        xAxis: {
			        	//不能是自定义的数据，设置为type:'category'会自动读取
			            /* categories: data.categories */
			            type:'category'
			        },
			        yAxis: {
			            title: {
			                text: '人数'
			            }
			        },
			        legend: {
			            enabled: false
			        },
			        plotOptions: {
			            series: {
			                borderWidth: 0,
			                dataLabels: {
			                    enabled: true,
			                    format: '{point.y:.1f}'
			                }
			            }
			        },
			        tooltip: {
			            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
			            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
			        },
			        series: [{
			            type: 'column',
			            colorByPoint: true,
			            data: /* [{
			                name: 'Microsoft Internet Explorer',
			                y: 56.33,
			                drilldown: 'Microsoft Internet Explorer'
			            }, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4] */
			            data.data,
			            showInLegend: false
			        }],
			        drilldown: {
			            series: /* [{
			                name: 'Microsoft Internet Explorer',
			                id: 'Microsoft Internet Explorer',
			                data: [
			                    [
			                        'v11.0',
			                        24.13
			                    ],
			                    [
			                        'v8.0',
			                        17.2
			                    ],
			                    [
			                        'v9.0',
			                        8.11
			                    ],
			                    [
			                        'v10.0',
			                        5.33
			                    ],
			                    [
			                        'v6.0',
			                        1.06
			                    ],
			                    [
			                        'v7.0',
			                        0.5
			                    ]
			                ]
			            }] */
			            data.series
			        }
	    		});
				}
			});
	    

		}
		$('#plain').click(function () {
	        chart.update({
	            chart: {
	                inverted: false,
	                polar: false
	            },
	            subtitle: {
	                text: '普通的'
	            }
	        });
	    });
	    $('#inverted').click(function () {
	        // chart.update 支持全部属性动态更新
	        chart.update({
	            chart: {
	                inverted: true,
	                polar: false
	            },
	            subtitle: {
	                text: '反转'
	            }
	        });
	    });
	    $('#polar').click(function () {
	        chart.update({
	            chart: {
	                inverted: false,
	                polar: true
	            },
	            subtitle: {
	                text: '极地图'
	            }
	        });
	    });
	/* $("#sendModel").click(function(){	

		var s_sid=$("#sname2").attr("title");
		var s_pid=$("#message-pid").val();
		var s_cid=$("#cmid").val();

		$.ajax({
			url:'InsertOrUpdateScores',
			method:'post',			
			dataType:'json',
			data:{"cid":s_cid,
				"pid":s_pid,				
				"sid":s_sid,
				"scid":usernifo.choose			
			},
			success:function(data){
				//msg中ok出现位置，如果没有，返回-1
				if(data.msg.indexOf("ok")!=-1){
					usernifo.choose=data.choose;					
					usernifo.cname=$("#comDet").html();
					usernifo.pname=$("#pna").html();
					alert(usernifo.cname+" \ "+usernifo.pname);
					cl("stuinfo",JSON.stringify(usernifo));
					var opt={
							url: "selectProByCid?cid="+$("#cmid").val()+"&pros="+$("#cprose").val(),
							silent:true,
							query:{type:1,level:2}
					};
					$("#tb").bootstrapTable('refresh',opt);
					$("#comDet").html($("#comDet").html());
	        		$("#cmid").val($("#cmid").val());
	        		$("#cprose").val($("#cprose").val());
	        		$("#cimage").val($("#cimage").val());
	        		$("#exampleModal").modal("hide");
	        		
	        		alert("选择成功");
				}else{
					alert(data.msg);
					$("#exampleModal").modal("hide");
				}
			},
			error:function(){
				alert("err");
			}
		});
	}) */
	
	$("#logout").bind("click",function(){
		if (window.localStorage) {
			window.localStorage.removeItem("teainfo");	
		}
	});
	$("#delButton").click(function(){
	     var a= $("#table10").bootstrapTable('getSelections');
            		 if(a.length<=0){
            			 alert("请选中一行")
            		}else{
            			//var b=JSON.stringify( a );
						$.each(a,function(i){
							alert("ID:"+a[i].infoid); 
						})          			
            		}
	});
	
})
function updateNoCheckCompsBycid(cid){
		if(usernifo==null||usernifo==""){
			if(confirm("请先登录，再进行操作")){
				location.href="login.html";	
			}
			return;
		}		
		$.ajax({
			url:'updateNoCheckCompsBycid',
			method:'post',			
			dataType:'text',
			data:{cid:cid},
			success:function(data){
				if(data.indexOf("ok")!=-1){
					layer.alert('审核成功', {
						  skin: 'layui-layer-molv' //样式类名
						  ,closeBtn: 0
						  ,anim: 3 //动画类型
						});
					$("#tb").bootstrapTable("refresh");
				}else{
					layer.alert('审核失败', {
						  skin: 'layui-layer-molv' //样式类名
						  ,closeBtn: 0
						  ,anim: 6 //动画类型
						});
				}
				
			},
			error:function(){
				alert("error");
			}
		});
	}



function exportExcel(){
	$.ajax({
		url:'exportExcel',
		method:'post',			
		dataType:'text',
		success:function(data){
			layer.alert('导出成功,路径为：C:\\eclipse-workplace\\Members.xls', {
				  skin: 'layui-layer-molv' //样式类名
				  ,closeBtn: 0
				  ,anim: 3 //动画类型
				});	
		},
		error:function(){
			alert("error");
		}
	});
}





var X = XLSX;
//执行上传
function inputFile1(){
	var deptlist=null;
	if(window.localStorage){
		deptlist=JSON.parse(localStorage.getItem("excellist"));
	}else{
		deptlist=Cookie.read("excellist");
	}	
	//poi是二进制上传， 而当前ui不是二进制上传，还是文本的参数模式
	$.ajax({
	    url: "excelStus",    //请求的url地址，获取全部roles职务的名称
	    dataType: "text",  
	    //async: true, //请求是否异步，默认为异步，这也是ajax重要特性
	    type: "post",   //请求方式，默认post	
	    //成功获取异步提交的参数执行的方法，req是返回的异步数据，类型是非常不固定
//{"UCname":usn,"UPwd":pwd,"URid":rrole,"USex":sex,"UTel":tel,"UEmail":email},
	    data:{"formdata":deptlist},
	    success:function(data) {
	    	alert("添加成功");		
	    },		   
	    error:function() {
	        //请求出错处理
	        alert("添加失败");
	    }
	});	
}
//点击<input type=file>表单:执行获取Excel并且转换json，存入缓存
function inputFile(){
// <input type="file" onclick="inputFile()" name="xlfile" id="xlf" />
    var xlf = document.getElementById('xlf');
	xlf.type="file";	
	//swal("ff: "+xlf.addEventListener);
	//当<input type="file">被点击的时候，创建的一个监听事件，xlf.addEventListener==true的时候说明该表单被点击了
	//可以视为是 onchage操作，然后触发的是方法是handleFile()方法
    if(xlf.addEventListener) {
    	xlf.addEventListener('change', handleFile, false);
    }else{
    	swal("err");
    }	
}
function ab2str(data) {
	var o = "", l = 0, w = 10240;
	for(; l<data.byteLength/w; ++l) o+=String.fromCharCode.apply(null,new Uint16Array(data.slice(l*w,l*w+w)));
	o+=String.fromCharCode.apply(null, new Uint16Array(data.slice(l*w)));
	return o;
}
function s2ab(s) {
	var b = new ArrayBuffer(s.length*2), v = new Uint16Array(b);
	for (var i=0; i != s.length; ++i) v[i] = s.charCodeAt(i);
	return [v, b];
}
function xw_xfer(data, cb) {
	var worker = new Worker('js/xlsx/xlsxworker2.js');//rABS ? XW.rABS : XW.norABS
	worker.onmessage = function(e) {
		switch(e.data.t) {
			case 'ready': break;
			case 'e': console.error(e.data.d); break;
			default: xx=ab2str(e.data).replace(/\n/g,"\\n").replace(/\r/g,"\\r"); 
			//console.log("done"); 
			cb(JSON.parse(xx)); break;
		}
	};	
		var val = s2ab(data);
		worker.postMessage(val[1], [val[1]]);	
}
function to_csv(workbook) {
	//var result = [];
	//workbook.SheetNames.forEach(function(sheetName) {
		//var csv = X.utils.sheet_to_csv(workbook.Sheets[sheetName]);
		//if(csv.length > 0){
			//result.push("SHEET: " + sheetName);					
			//result.push(csv);
			//result.push("+");
		//}
	//});
	var result = {};
	workbook.SheetNames.forEach(function(sheetName) {
		var roa = X.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);
		if(roa.length > 0){
			result[sheetName] = roa;
		}
	});
	//out.innerText =result.join("\n");
	var value=JSON.stringify(result, 2, 2);
	if (window.localStorage) {
		 //封装浏览器缓存 WebStrong，setItem类似setAttribute方法
	    localStorage.setItem("excellist",JSON.stringify(value));	
	} else {
		//封装Cookie
	    Cookie.write("excellist",JSON.stringify(value));	
	}
	//ecl=JSON.stringify(value);
     //JSON.stringify(
	//swal(value);	
}
//当导入的excel 表单点击的时候触发的function方法  参数e，是导入excel文件的对象，也就是 ttt.xlsx
function handleFile(e) {
	//swal("hand:"+e);
	//获取点击的文件对象 ttt.xlsx
	var files = e.target.files;
	//获取文件中的第一个Sheet1，以下都是脚本操作文件流的代码操作
	var f = files[0];
	{
		var reader = new FileReader();
		var name = f.name;
		reader.onload = function(e) {
			//if(typeof console !== 'undefined') console.log("onload", new Date(), true, true);
			var data = e.target.result;
			xw_xfer(data, to_csv);
		};
		reader.readAsBinaryString(f);
	}
} 
</script>
</body>
</html>